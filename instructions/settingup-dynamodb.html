<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-11-09T13:22:59.0990949"><title>📊 Creating the DynamoDB Table | AWS Serverless Workshop</title><script type="application/json" id="virtual-toc-data">[{"id":"step-by-step-defining-the-dynamodb-table","level":0,"title":"📝 Step-by-Step: Defining the DynamoDB Table","anchor":"#step-by-step-defining-the-dynamodb-table"},{"id":"additional-table-settings","level":0,"title":"🔧 Additional Table Settings","anchor":"#additional-table-settings"},{"id":"cdk-synth-deploy","level":0,"title":"🚀 CDK Synth \u0026 Deploy","anchor":"#cdk-synth-deploy"},{"id":"confirming-the-dynamodb-table","level":0,"title":"✅ Confirming the DynamoDB Table","anchor":"#confirming-the-dynamodb-table"},{"id":"next-steps","level":0,"title":"🎉 Next Steps","anchor":"#next-steps"},{"id":"additional-resources","level":0,"title":"📚 Additional Resources","anchor":"#additional-resources"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="📊 Creating the DynamoDB Table | AWS Serverless Workshop"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="AWS Serverless Workshop Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//1/settingup-dynamodb.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="📊 Creating the DynamoDB Table | AWS Serverless Workshop"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//1/settingup-dynamodb.html#webpage",
    "url": "writerside-documentation//1/settingup-dynamodb.html",
    "name": "📊 Creating the DynamoDB Table | AWS Serverless Workshop",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "AWS Serverless Workshop Help"
}</script><!-- End Schema.org --></head><body data-id="Settingup-DynamoDB" data-main-title="📊 Creating the DynamoDB Table" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="main.md|Introduction"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>AWS Serverless Workshop 1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Settingup-DynamoDB" id="Settingup-DynamoDB.md">📊 Creating the DynamoDB Table</h1><p id="z7sisv2_3"><span class="control" id="z7sisv2_11">Our serverless app needs a place to store and manage data. We'll use <span class="control" id="z7sisv2_12">Amazon DynamoDB</span>, a fast and flexible NoSQL database service provided by AWS. Let's learn how to create a DynamoDB table using AWS CDK.</span></p><section class="chapter"><h2 id="step-by-step-defining-the-dynamodb-table" data-toc="step-by-step-defining-the-dynamodb-table">📝 Step-by-Step: Defining the DynamoDB Table</h2><p id="z7sisv2_13">Follow these steps to set up your DynamoDB table in your CDK project.</p><ol class="list _decimal" id="z7sisv2_14" type="1"><li class="list__item" id="z7sisv2_16"><p id="z7sisv2_19"><span class="control" id="z7sisv2_21">📥 Import the DynamoDB Module</span></p><ul class="list _bullet" id="z7sisv2_20"><li class="list__item" id="z7sisv2_22"><p id="z7sisv2_24"><span class="control" id="z7sisv2_25">What is this?</span> We're bringing in the DynamoDB library so we can use it in our code.</p></li><li class="list__item" id="z7sisv2_23"><p id="z7sisv2_26"><span class="control" id="z7sisv2_28">How to do it:</span> In your stack file (<code class="code" id="z7sisv2_29">lib/todo-app-stack.ts</code>), add the following line at the top:</p><div class="code-block" data-lang="ts">
import * as dynamodb from '@aws-cdk/aws-dynamodb';
</div></li></ul></li><li class="list__item" id="z7sisv2_17"><p id="z7sisv2_30"><span class="control" id="z7sisv2_32">🛠️ Create the DynamoDB Table</span></p><ul class="list _bullet" id="z7sisv2_31"><li class="list__item" id="z7sisv2_33"><p id="z7sisv2_35"><span class="control" id="z7sisv2_36">What is this?</span> We're defining a new table in DynamoDB where our data will be stored.</p></li><li class="list__item" id="z7sisv2_34"><p id="z7sisv2_37"><span class="control" id="z7sisv2_39">How to do it:</span> Still in your stack file, add this code inside your stack class:</p><div class="code-block" data-lang="ts">
const table = new dynamodb.Table(this, 'TodoTable', {
  partitionKey: { name: 'id', type: dynamodb.AttributeType.STRING },
  tableName: 'TodoTable',
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
});
</div></li></ul></li><li class="list__item" id="z7sisv2_18"><p id="z7sisv2_40"><span class="control" id="z7sisv2_43">⚙️ Understanding the Table Configuration</span></p><p id="z7sisv2_41">Let's break down what each part of the code means:</p><ul class="list _bullet" id="z7sisv2_42"><li class="list__item" id="z7sisv2_44"><p id="z7sisv2_47"><span class="control" id="z7sisv2_49">🆔 Partition Key</span></p><ul class="list _bullet" id="z7sisv2_48"><li class="list__item" id="z7sisv2_50"><p><span class="control" id="z7sisv2_53">What is it?</span> A unique identifier for each item in the table.</p></li><li class="list__item" id="z7sisv2_51"><p><span class="control" id="z7sisv2_54">Analogy:</span> Think of it like a student ID number that uniquely identifies each student in a university database.</p></li><li class="list__item" id="z7sisv2_52"><p><span class="control" id="z7sisv2_55">In our code:</span> We're setting the partition key to <code class="code" id="z7sisv2_56">'id'</code> of type <code class="code" id="z7sisv2_57">STRING</code>, so each item will have a unique <code class="code" id="z7sisv2_58">id</code>.</p></li></ul></li><li class="list__item" id="z7sisv2_45"><p id="z7sisv2_59"><span class="control" id="z7sisv2_61">💸 Billing Mode</span></p><ul class="list _bullet" id="z7sisv2_60"><li class="list__item" id="z7sisv2_62"><p><span class="control" id="z7sisv2_65">What is it?</span> Determines how you pay for the database operations.</p></li><li class="list__item" id="z7sisv2_63"><p><span class="control" id="z7sisv2_66">Analogy:</span> It's like choosing a phone plan&mdash;pay-as-you-go vs. unlimited.</p></li><li class="list__item" id="z7sisv2_64"><p><span class="control" id="z7sisv2_67">In our code:</span> We're using <code class="code" id="z7sisv2_68">PAY_PER_REQUEST</code>, which means we only pay for the reads and writes we perform, making it cost-effective.</p></li></ul></li><li class="list__item" id="z7sisv2_46"><p id="z7sisv2_69"><span class="control" id="z7sisv2_71">📛 Table Name</span></p><ul class="list _bullet" id="z7sisv2_70"><li class="list__item" id="z7sisv2_72"><p><span class="control" id="z7sisv2_74">What is it?</span> The name of the table in DynamoDB.</p></li><li class="list__item" id="z7sisv2_73"><p><span class="control" id="z7sisv2_75">In our code:</span> We've named it <code class="code" id="z7sisv2_76">'TodoTable'</code> to clearly indicate its purpose.</p></li></ul></li></ul></li></ol></section><section class="chapter"><h2 id="additional-table-settings" data-toc="additional-table-settings">🔧 Additional Table Settings</h2><p id="z7sisv2_77">Depending on your app's needs, you might consider adding these optional configurations:</p><ul class="list _bullet" id="z7sisv2_78"><li class="list__item" id="z7sisv2_80"><p id="z7sisv2_83"><span class="control" id="z7sisv2_85">📐 Sort Key</span></p><ul class="list _bullet" id="z7sisv2_84"><li class="list__item" id="z7sisv2_86"><p><span class="control" id="z7sisv2_89">What is it?</span> An additional key used to sort data within a partition.</p></li><li class="list__item" id="z7sisv2_87"><p><span class="control" id="z7sisv2_90">Why use it?</span> Helps when you need to store and query multiple items with the same partition key.</p></li><li class="list__item" id="z7sisv2_88"><p><span class="control" id="z7sisv2_91">Example:</span> If you have multiple tasks (<code class="code" id="z7sisv2_92">todos</code>) for the same user, you can sort them by date or priority.</p></li></ul></li><li class="list__item" id="z7sisv2_81"><p id="z7sisv2_93"><span class="control" id="z7sisv2_95">⏳ Time-to-Live (TTL)</span></p><ul class="list _bullet" id="z7sisv2_94"><li class="list__item" id="z7sisv2_96"><p><span class="control" id="z7sisv2_99">What is it?</span> A feature that automatically deletes items after a specified time.</p></li><li class="list__item" id="z7sisv2_97"><p><span class="control" id="z7sisv2_100">Why use it?</span> Helps keep your database lean by removing outdated data.</p></li><li class="list__item" id="z7sisv2_98"><p><span class="control" id="z7sisv2_101">Analogy:</span> Like setting an expiration date on perishable goods.</p></li></ul></li><li class="list__item" id="z7sisv2_82"><p id="z7sisv2_102"><span class="control" id="z7sisv2_104">🔍 Secondary Indexes</span></p><ul class="list _bullet" id="z7sisv2_103"><li class="list__item" id="z7sisv2_105"><p><span class="control" id="z7sisv2_108">What are they?</span> Additional ways to query the data in your table beyond the primary key.</p></li><li class="list__item" id="z7sisv2_106"><p><span class="control" id="z7sisv2_109">Types:</span></p><ul class="list _bullet" id="z7sisv2_110"><li class="list__item" id="z7sisv2_111"><p><span class="control" id="z7sisv2_113">Global Secondary Index (GSI):</span> Allows queries using different partition and sort keys.</p></li><li class="list__item" id="z7sisv2_112"><p><span class="control" id="z7sisv2_114">Local Secondary Index (LSI):</span> Uses the same partition key but a different sort key.</p></li></ul></li><li class="list__item" id="z7sisv2_107"><p><span class="control" id="z7sisv2_115">Why use them?</span> To improve query flexibility and performance.</p></li></ul></li></ul></section><section class="chapter"><h2 id="cdk-synth-deploy" data-toc="cdk-synth-deploy">🚀 CDK Synth &amp; Deploy</h2><p id="z7sisv2_116">Now that we've defined our table, let's deploy it to AWS.</p><ol class="list _decimal" id="z7sisv2_117" type="1"><li class="list__item" id="z7sisv2_119"><p id="z7sisv2_121"><span class="control" id="z7sisv2_123">Synthesize the CloudFormation Template</span></p><ul class="list _bullet" id="z7sisv2_122"><li class="list__item" id="z7sisv2_124"><p id="z7sisv2_127"><span class="control" id="z7sisv2_128">What is this?</span> Converts your CDK code into a CloudFormation template, which AWS uses to create resources.</p></li><li class="list__item" id="z7sisv2_125"><p id="z7sisv2_129"><span class="control" id="z7sisv2_131">How to do it:</span> Open your terminal and run:</p><div class="code-block" data-lang="bash">
cdk synth
</div></li><li class="list__item" id="z7sisv2_126"><p id="z7sisv2_132"><span class="control" id="z7sisv2_133">Why do this?</span> It allows you to review the generated template and catch any issues before deployment.</p></li></ul></li><li class="list__item" id="z7sisv2_120"><p id="z7sisv2_134"><span class="control" id="z7sisv2_136">Deploy the Stack</span></p><ul class="list _bullet" id="z7sisv2_135"><li class="list__item" id="z7sisv2_137"><p id="z7sisv2_140"><span class="control" id="z7sisv2_141">What is this?</span> Sends the CloudFormation template to AWS to create the DynamoDB table.</p></li><li class="list__item" id="z7sisv2_138"><p id="z7sisv2_142"><span class="control" id="z7sisv2_144">How to do it:</span> Run:</p><div class="code-block" data-lang="bash">
cdk deploy
</div></li><li class="list__item" id="z7sisv2_139"><p id="z7sisv2_145"><span class="control" id="z7sisv2_146">Note:</span> You'll be prompted to confirm the deployment. Type <code class="code" id="z7sisv2_147">y</code> or <code class="code" id="z7sisv2_148">yes</code> when asked.</p></li></ul></li></ol></section><section class="chapter"><h2 id="confirming-the-dynamodb-table" data-toc="confirming-the-dynamodb-table">✅ Confirming the DynamoDB Table</h2><p id="z7sisv2_149">Let's make sure our table was created successfully.</p><ol class="list _decimal" id="z7sisv2_150" type="1"><li class="list__item" id="z7sisv2_152"><p id="z7sisv2_154"><span class="control" id="z7sisv2_156">Check in the AWS Console</span></p><ul class="list _bullet" id="z7sisv2_155"><li class="list__item" id="z7sisv2_157"><p><span class="control" id="z7sisv2_158">How to do it:</span></p><ul class="list _bullet" id="z7sisv2_159"><li class="list__item" id="z7sisv2_160"><p>Log in to your AWS account and navigate to the <a href="https://console.aws.amazon.com/dynamodb/home" id="z7sisv2_163" data-external="true" rel="noopener noreferrer">DynamoDB Console</a>.</p></li><li class="list__item" id="z7sisv2_161"><p>Look for <code class="code" id="z7sisv2_164">TodoTable</code> in the list of tables.</p></li><li class="list__item" id="z7sisv2_162"><p>Click on it to view its details and confirm the settings.</p></li></ul></li></ul></li><li class="list__item" id="z7sisv2_153"><p id="z7sisv2_165"><span class="control" id="z7sisv2_167">Verify via AWS CLI</span></p><ul class="list _bullet" id="z7sisv2_166"><li class="list__item" id="z7sisv2_168"><p id="z7sisv2_171"><span class="control" id="z7sisv2_173">How to do it:</span> In your terminal, run:</p><div class="code-block" data-lang="bash">
aws dynamodb list-tables --region your-region
</div></li><li class="list__item" id="z7sisv2_169"><p id="z7sisv2_174"><span class="control" id="z7sisv2_175">Replace <code class="code" id="z7sisv2_177">your-region</code></span> with the AWS region you used during setup (e.g., <code class="code" id="z7sisv2_176">us-west-2</code>).</p></li><li class="list__item" id="z7sisv2_170"><p id="z7sisv2_178"><span class="control" id="z7sisv2_179">What to look for:</span> Ensure <code class="code" id="z7sisv2_180">TodoTable</code> appears in the list of tables.</p></li></ul></li></ol></section><section class="chapter"><h2 id="next-steps" data-toc="next-steps">🎉 Next Steps</h2><p id="z7sisv2_181"><span class="control" id="z7sisv2_185">Great job!</span> Your DynamoDB table is now up and running.</p><ul class="list _bullet" id="z7sisv2_182"><li class="list__item" id="z7sisv2_186"><p><span class="control" id="z7sisv2_187">What's next?</span> We'll integrate this table with other parts of our serverless app: </p><ul class="list _bullet" id="z7sisv2_188"><li class="list__item" id="z7sisv2_189"><p><span class="control" id="z7sisv2_191">AWS Lambda:</span> To handle the backend logic.</p></li><li class="list__item" id="z7sisv2_190"><p><span class="control" id="z7sisv2_192">API Gateway:</span> To create HTTP endpoints for our app.</p></li></ul></li></ul><p id="z7sisv2_183"><span class="control" id="z7sisv2_193">Ready to build your first serverless function? Let's get started!</span></p></section><section class="chapter"><h2 id="additional-resources" data-toc="additional-resources">📚 Additional Resources</h2><ul class="list _bullet" id="z7sisv2_194"><li class="list__item" id="z7sisv2_195"><p><span class="control" id="z7sisv2_198">Amazon DynamoDB Documentation</span></p><ul class="list _bullet" id="z7sisv2_199"><li class="list__item" id="z7sisv2_200"><p>Learn more about DynamoDB: <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" id="z7sisv2_201" data-external="true" rel="noopener noreferrer">DynamoDB Docs</a></p></li></ul></li><li class="list__item" id="z7sisv2_196"><p><span class="control" id="z7sisv2_202">AWS CDK DynamoDB Module</span></p><ul class="list _bullet" id="z7sisv2_203"><li class="list__item" id="z7sisv2_204"><p>Explore CDK's DynamoDB features: <a href="https://docs.aws.amazon.com/cdk/api/latest/docs/aws-dynamodb-readme.html" id="z7sisv2_205" data-external="true" rel="noopener noreferrer">CDK DynamoDB Module</a></p></li></ul></li><li class="list__item" id="z7sisv2_197"><p><span class="control" id="z7sisv2_206">Best Practices for DynamoDB</span></p><ul class="list _bullet" id="z7sisv2_207"><li class="list__item" id="z7sisv2_208"><p>Optimize your use of DynamoDB: <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html" id="z7sisv2_209" data-external="true" rel="noopener noreferrer">DynamoDB Best Practices</a></p></li></ul></li></ul></section><div class="last-modified">Last modified: 09 November 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="project-structure.html" class="navigation-links__prev">🗂️ Understanding the Project Structure</a><a href="createtodo.html" class="navigation-links__next">🚀 Creating Lambda Functions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>